<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Payment – Luméra</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
</head>

<body>

  <div class="payment-container">
    <h2>Checkout</h2>

    <!-- Order Summary -->
    <div class="payment-section">
      <h3>Order Summary</h3>
      <div id="payment-items"></div>
      <p class="total">Total: ₹<span id="payment-total">0</span></p>
    </div>

    <!-- User Info -->
    <div class="payment-section">
      <h3>Billing Details</h3>
      <input type="text" placeholder="Full Name" required>
      <input type="email" placeholder="Email" required>
      <input type="text" placeholder="Shipping Address" required>
    </div>

    <!-- Payment Methods -->
    <div class="payment-section">
      <h3>Choose Payment Method</h3>

      <label><input type="radio" name="method" checked> 
        <img src="https://img.icons8.com/color/24/upi.png" alt="UPI Icon"> UPI
      </label><br>
      
      <label><input type="radio" name="method"> 
        <img src="https://img.icons8.com/color/24/bank-card-back-side.png" alt="Card Icon"> Debit/Credit Card
      </label><br>
      
      <label><input type="radio" name="method"> 
        <img src="https://img.icons8.com/color/24/wallet-app.png" alt="Wallet Icon"> Wallet
      </label>

    </div>

    <!-- Pay Button -->
    <button class="pay-btn">PAY NOW</button>
  </div>

  <script>
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const itemsDiv = document.getElementById("payment-items");
  const totalSpan = document.getElementById("payment-total");
  const payBtn = document.querySelector(".pay-btn");
  let total = 0;

  if (cart.length === 0) {
    itemsDiv.innerHTML = "<p class='empty-message'>Your cart is empty. Add some candles ✨</p>";
    payBtn.disabled = true;
    payBtn.style.opacity = "0.5";
    payBtn.style.cursor = "not-allowed";
  } else {
    cart.forEach(item => {
      const div = document.createElement("div");
      div.innerHTML = `<p>${item.name} × ${item.quantity} — ₹${item.price * item.quantity}</p>`;
      itemsDiv.appendChild(div);
      total += item.price * item.quantity;
    });

    totalSpan.textContent = total;

    // Enable and attach click only if cart has items
    payBtn.addEventListener("click", () => {
      localStorage.removeItem("cart");
      window.location.href = "thank you.html";
    });
  }
</script>



</body>

</html>
