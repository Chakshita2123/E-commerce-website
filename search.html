<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Search Results – Luméra</title>
  <link rel="stylesheet" href="/static/style.css">
  <script defer>
    const allProducts = [
      { name: "Midnight Rose", image: "midnight rose.webp", price: 899 },
      { name: "Scottish Mist", image: "scottish mist.webp", price: 999 },
      { name: "Citrus Bloom", image: "citrus bloom.jpeg", price: 849 },
      { name: "Vanilla Amber", image: "vanilla amber.webp", price: 1050 },
      { name: "Lavender Noir", image: "lavender noir.jpeg", price: 999 },
      { name: "Rose Luxe", image: "rose luxe.jpeg", price: 1150 },
      { name: "Candlelight Bloom", image: "candlelight bloom.jpeg", price: 950 },
      { name: "Velvet Amber", image: "velvet amber.jpeg", price: 1099 },
      { name: "Golden Oud", image: "golden oud.jpeg", price: 1199 }
    ];

    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    function renderResults() {
      const query = getQueryParam("query");
      const container = document.getElementById("search-results");

      if (!query) {
        container.innerHTML = "<p>Please enter a search term.</p>";
        return;
      }

      const results = allProducts.filter(p =>
        p.name.toLowerCase().includes(query.toLowerCase())
      );

      if (results.length === 0) {
        container.innerHTML = `<p>No results found for "<strong>${query}</strong>".</p>`;
        return;
      }

      results.forEach(p => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <img src="${p.image}" alt="${p.name}">
          <h3>${p.name}</h3>
          <p class="price">₹${p.price}</p>
          <button>Add to Cart</button>
        `;
        container.appendChild(card);
      });
    }

    document.addEventListener("DOMContentLoaded", renderResults);
  </script>
  <style>
    .card {
      width: 220px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.07);
      padding: 1rem;
      text-align: center;
      margin: 1rem;
    }
    #search-results {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
  </style>
</head>
<body>
  <h2 style="text-align:center; margin-top: 2rem;">Search Results</h2>
  <div id="search-results"></div>
</body>
</html>
